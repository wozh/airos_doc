## airos-edge架构

智路OS路侧操作系统airos-edge自下而上分别由内核层，硬件抽象层、框架层、服务层和应用层构成；提供了一系列抽象和框架，支持设备接入、服务、应用等组件开发，兼容X86和ARM操作系统，技术架构如下所示：

![framework](/image/framework.jpg)

**内核层**

智路OS内核层融合了进程和线程管理、内存管理、文件系统、网络栈、设备驱动、实时补丁、高可用支持以及POSIX（Portable Operating System Interface for UNIX）兼容性等关键要素，以满足面向车路协同场景的高实时性、发并性、可靠性的需求。

**抽象层**

为实现硬件与操作系统之间的交互，智路OS制定了硬件接入和输出的标准，硬件设备接入应符合以下要求：
- **设备接入**：智路OS明确了硬件设备的接入方法，涵盖了设备接口定义
- **设备输出**：智路OS规定了设备输出的数据结构和内容标准，包括设备状态、处理结果等

**框架层**

- **通信和调度中间件**：规定了通信中间件的标准接口。通信和调度中间件默认实现包含通信、服务发现、计算调度等核心模块，其中通信使用pub/sub的匿名通信模式，基于动态的服务发现去除了中心化的节点，支持进程间和跨机器通信，计算调度模块屏蔽了操作系统的底层细节。
- **服务框架**：服务框架定义了组件的接口及输出，提供了服务、设备组件、应用的加载，包含了智路OS核心服务架构

**服务层**

服务层定义了智路 OS 系统应该具备以下几项服务能力，包括传感器服务、检测服务、融合服务、信号灯服务、通信服务等。当服务组件被框架层加载并运行时，就组成了智路OS的基本服务。

**应用层**

应用程序可以根据其特定业务需求，充分利用智路 OS 提供的多样化服务，其中包括传感器服务、感知服务、通信服务以及信号灯服务等提供的标准数据。通过接口订阅，获取实时的服务数据，经过逻辑处理后发送至输出设备或与云服务器进行交互，从而完成应用的构建。